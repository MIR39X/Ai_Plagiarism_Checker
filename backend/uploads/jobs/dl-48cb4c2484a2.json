{
    "source_file": "D:\\Semester 05\\DF_Project\\backend\/uploads\/upload_6928a201c181f2.55707095_toCheck.pdf",
    "segments": [
        {
            "id": "seg-1",
            "text": "Yeah \u2014 solid start. Your PHP is mostly okay and follows the right flow (save upload \n\u2192 call Python \u2192 call detector \u2192 return JSON). I ran a careful read and made a list of \nthings to improve plus a safer, more production-ready version you can copy-paste.",
            "tokens": 47,
            "page": 0,
            "bbox": [
                90.02400207519531,
                72.12800598144531,
                505.8599853515625,
                113.2519760131836
            ],
            "confidence": 0.3
        },
        {
            "id": "seg-2",
            "text": "Main issues & suggestions",
            "tokens": 4,
            "page": 0,
            "bbox": [
                90.02400207519531,
                129.62503051757812,
                266.9800109863281,
                143.0650177001953
            ],
            "confidence": 0.2
        },
        {
            "id": "seg-3",
            "text": "1.",
            "tokens": 1,
            "page": 0,
            "bbox": [
                144.0500030517578,
                159.5900115966797,
                164.34808349609375,
                173.45001220703125
            ],
            "confidence": 0.1
        },
        {
            "id": "seg-4",
            "text": "AI % calculation \u2014 you use average confidence (simple mean). Better to \nweight by tokens so long segments count more (recommended).",
            "tokens": 21,
            "page": 0,
            "bbox": [
                126.05000305175781,
                187.1179962158203,
                486.9519348144531,
                214.5819854736328
            ],
            "confidence": 0.4
        },
        {
            "id": "seg-5",
            "text": "2. 3.",
            "tokens": 2,
            "page": 0,
            "bbox": [
                144.0500030517578,
                229.2100067138672,
                164.34808349609375,
                257.22998046875
            ],
            "confidence": 0.1
        },
        {
            "id": "seg-6",
            "text": "Error handling \u2014 if the Python extractor fails or returns invalid JSON, you \nshould catch that and return a clear error. Same for DeepSeek errors.",
            "tokens": 25,
            "page": 0,
            "bbox": [
                126.05000305175781,
                270.8979797363281,
                497.6800537109375,
                298.3719787597656
            ],
            "confidence": 0.5
        },
        {
            "id": "seg-7",
            "text": "4. 5.",
            "tokens": 2,
            "page": 0,
            "bbox": [
                144.0500030517578,
                313.239990234375,
                164.34808349609375,
                341.2599792480469
            ],
            "confidence": 0.1
        },
        {
            "id": "seg-8",
            "text": "Validate uploaded file \u2014 check extension and max file size before moving.",
            "tokens": 12,
            "page": 0,
            "bbox": [
                126.05000305175781,
                355.1679992675781,
                497.5899963378906,
                368.4519958496094
            ],
            "confidence": 0.4
        },
        {
            "id": "seg-9",
            "text": "6. 7.",
            "tokens": 2,
            "page": 0,
            "bbox": [
                144.0500030517578,
                383.1000061035156,
                164.34808349609375,
                411.1199951171875
            ],
            "confidence": 0.1
        },
        {
            "id": "seg-10",
            "text": "Paths on Windows vs Linux \u2014 your pythonPath uses a Windows venv path. Make this configurable via .env and fallback to python3 on non-Windows.",
            "tokens": 24,
            "page": 0,
            "bbox": [
                126.05000305175781,
                425.26800537109375,
                511.364013671875,
                453.1919860839844
            ],
            "confidence": 0.5
        },
        {
            "id": "seg-11",
            "text": "8. 9.",
            "tokens": 2,
            "page": 0,
            "bbox": [
                144.0500030517578,
                467.8399963378906,
                164.34808349609375,
                495.8599853515625
            ],
            "confidence": 0.1
        },
        {
            "id": "seg-12",
            "text": "Clamp \/ normalize confidences \u2014 ensure confidences are numeric and \nbetween 0\u20131.",
            "tokens": 12,
            "page": 0,
            "bbox": [
                126.05000305175781,
                509.5279846191406,
                476.2559814453125,
                536.9719848632812
            ],
            "confidence": 0.4
        },
        {
            "id": "seg-13",
            "text": "10. 11.",
            "tokens": 2,
            "page": 0,
            "bbox": [
                144.0500030517578,
                551.6300048828125,
                164.34808349609375,
                579.6500244140625
            ],
            "confidence": 0.1
        },
        {
            "id": "seg-14",
            "text": "Persist download token mapping \u2014 download_token should map to the \ngenerated annotated file path (store mapping in a small JSON file or DB). Currently you generate a token but don\u2019t save the mapping.",
            "tokens": 33,
            "page": 0,
            "bbox": [
                126.05000305175781,
                593.7979736328125,
                487.3880310058594,
                634.9419555664062
            ],
            "confidence": 0.5
        },
        {
            "id": "seg-15",
            "text": "12. 13.",
            "tokens": 2,
            "page": 0,
            "bbox": [
                144.0500030517578,
                649.8099975585938,
                164.34808349609375,
                677.8299560546875
            ],
            "confidence": 0.1
        },
        {
            "id": "seg-16",
            "text": "Security \/ info leak \u2014 don\u2019t return internal file paths to the client. Good you \ndidn\u2019t, but keep it in mind.",
            "tokens": 21,
            "page": 0,
            "bbox": [
                126.05000305175781,
                691.4979858398438,
                500.3080749511719,
                718.7319946289062
            ],
            "confidence": 0.4
        },
        {
            "id": "seg-17",
            "text": "14. 15.",
            "tokens": 2,
            "page": 0,
            "bbox": [
                144.0500030517578,
                733.5960083007812,
                164.34808349609375,
                761.615966796875
            ],
            "confidence": 0.1
        },
        {
            "id": "seg-18",
            "text": "Timeouts \u2014 set_time_limit(300) might still be too small for big docs + \nAPI calls; consider async job pattern for heavy files.",
            "tokens": 21,
            "page": 1,
            "bbox": [
                126.05000305175781,
                72.60798645019531,
                492.7799377441406,
                99.81197357177734
            ],
            "confidence": 0.5
        },
        {
            "id": "seg-19",
            "text": "16. 17.",
            "tokens": 2,
            "page": 1,
            "bbox": [
                144.0500030517578,
                114.71000671386719,
                164.34808349609375,
                142.72998046875
            ],
            "confidence": 0.1
        },
        {
            "id": "seg-20",
            "text": "CORS \/ Response headers \u2014 you call Utils::allowCors() so OK \u2014 \nensure content-type and proper error codes are used (you already use \nUtils::error \/ jsonResponse).",
            "tokens": 25,
            "page": 1,
            "bbox": [
                126.05000305175781,
                156.8780059814453,
                479.1099853515625,
                198.00196838378906
            ],
            "confidence": 0.4
        },
        {
            "id": "seg-21",
            "text": "18.",
            "tokens": 1,
            "page": 1,
            "bbox": [
                144.0500030517578,
                212.65000915527344,
                164.34808349609375,
                226.510009765625
            ],
            "confidence": 0.1
        },
        {
            "id": "seg-22",
            "text": "Below is a refactored version of your analyze.php with the above improvements:",
            "tokens": 12,
            "page": 1,
            "bbox": [
                90.02400207519531,
                267.0580139160156,
                495.9100036621094,
                280.3420104980469
            ],
            "confidence": 0.3
        },
        {
            "id": "seg-23",
            "text": "\uf0b7",
            "tokens": 1,
            "page": 1,
            "bbox": [
                144.0500030517578,
                294.5295715332031,
                164.34808349609375,
                307.1799621582031
            ],
            "confidence": 0.1
        },
        {
            "id": "seg-24",
            "text": "Token-weighted AI% calculation.",
            "tokens": 3,
            "page": 1,
            "bbox": [
                126.05000305175781,
                321.8079833984375,
                292.0799865722656,
                335.09197998046875
            ],
            "confidence": 0.4
        },
        {
            "id": "seg-25",
            "text": "\uf0b7 \n \n\uf0b7",
            "tokens": 2,
            "page": 1,
            "bbox": [
                144.0500030517578,
                349.24957275390625,
                164.34808349609375,
                374.6199645996094
            ],
            "confidence": 0.1
        },
        {
            "id": "seg-26",
            "text": "File type + size validation.",
            "tokens": 5,
            "page": 1,
            "bbox": [
                126.05000305175781,
                389.0279846191406,
                256.7799987792969,
                402.3119812011719
            ],
            "confidence": 0.4
        },
        {
            "id": "seg-27",
            "text": "\uf0b7 \n \n\uf0b7",
            "tokens": 2,
            "page": 1,
            "bbox": [
                144.0500030517578,
                416.4695739746094,
                164.34808349609375,
                441.8399658203125
            ],
            "confidence": 0.1
        },
        {
            "id": "seg-28",
            "text": "Python path from .env with fallback.",
            "tokens": 6,
            "page": 1,
            "bbox": [
                126.05000305175781,
                456.7279968261719,
                309.1199951171875,
                470.0119934082031
            ],
            "confidence": 0.4
        },
        {
            "id": "seg-29",
            "text": "\uf0b7 \n \n\uf0b7",
            "tokens": 2,
            "page": 1,
            "bbox": [
                144.0500030517578,
                484.1695861816406,
                164.34808349609375,
                509.53997802734375
            ],
            "confidence": 0.1
        },
        {
            "id": "seg-30",
            "text": "Defensive checks around PythonBridge and DeepSeekClient.",
            "tokens": 6,
            "page": 1,
            "bbox": [
                126.05000305175781,
                523.927978515625,
                423.6499938964844,
                537.2119750976562
            ],
            "confidence": 0.4
        },
        {
            "id": "seg-31",
            "text": "\uf0b7 \n \n\uf0b7",
            "tokens": 2,
            "page": 1,
            "bbox": [
                144.0500030517578,
                551.3995971679688,
                164.34808349609375,
                576.77001953125
            ],
            "confidence": 0.1
        },
        {
            "id": "seg-32",
            "text": "Save download_token \u2192 file mapping (simple JSON file inside uploads dir).",
            "tokens": 11,
            "page": 1,
            "bbox": [
                126.05000305175781,
                591.8779296875,
                503.3500061035156,
                605.1619262695312
            ],
            "confidence": 0.4
        },
        {
            "id": "seg-33",
            "text": "\uf0b7 \n \n\uf0b7",
            "tokens": 2,
            "page": 1,
            "bbox": [
                144.0500030517578,
                619.099609375,
                164.34808349609375,
                644.469970703125
            ],
            "confidence": 0.1
        },
        {
            "id": "seg-34",
            "text": "Cleaner rounding and normalized confidences.",
            "tokens": 5,
            "page": 1,
            "bbox": [
                126.05000305175781,
                659.0979614257812,
                353.29998779296875,
                672.3819580078125
            ],
            "confidence": 0.4
        },
        {
            "id": "seg-35",
            "text": "\uf0b7",
            "tokens": 1,
            "page": 1,
            "bbox": [
                144.0500030517578,
                686.5396118164062,
                164.34808349609375,
                699.1900024414062
            ],
            "confidence": 0.1
        },
        {
            "id": "seg-36",
            "text": "Copy this in place of your current file (adjust .env keys and paths if needed).",
            "tokens": 15,
            "page": 1,
            "bbox": [
                90.02400207519531,
                714.0879516601562,
                464.69000244140625,
                727.3719482421875
            ],
            "confidence": 0.3
        },
        {
            "id": "seg-37",
            "text": "<?phprequire_once dirname(__DIR__) . '\/src\/Utils.php';require_once \ndirname(__DIR__) . '\/src\/PythonBridge.php';require_once \ndirname(__DIR__) . '\/src\/DeepSeekClient.php'; \nUtils::loadEnv(dirname(__DIR__) . '\/.env');Utils::allowCors(); \n\/\/ Allow longer processing for larger documents\/API \ncallsset_time_limit(600); \/\/ increased \nif ($_SERVER['REQUEST_METHOD'] !== 'POST') { \n    Utils::error('Only POST is allowed', 405); \n} \nif (!isset($_FILES['file'])) { \n    Utils::error('Missing file upload', 400); \n} \n$upload = $_FILES['file'];if (!isset($upload['tmp_name']) || \n$upload['error'] !== UPLOAD_ERR_OK) { \n    Utils::error('File upload failed', 400, ['code' => \n$upload['error'] ? ?",
            "tokens": 60,
            "page": 2,
            "bbox": [
                90.02400207519531,
                73.71195983886719,
                504.19000244140625,
                755.0280151367188
            ],
            "confidence": 0.5
        },
        {
            "id": "seg-38",
            "text": "null]); \n} \n\/\/ Basic validation: extension and size$allowedExt = ['pdf', \n'docx'];$maxBytes = (int) (Utils::env('MAX_UPLOAD_MB', 20) * 1024 * \n1024); \/\/ default 20 MB \n$origName = $upload['name'];$ext = strtolower(pathinfo($origName, \nPATHINFO_EXTENSION));if (!in_array($ext, $allowedExt)) { \n    Utils::error('Unsupported file type. Only PDF and DOCX allowed', \n400); \n}if ($upload['size'] > $maxBytes) { \n    Utils::error('File too large', 413); \n} \n$segmentTokens = isset($_POST['segment_tokens']) ? (int) \n$_POST['segment_tokens'] : 80;$threshold = \nisset($_POST['threshold']) ? (float) $_POST['threshold'] : \n0.65;$threshold = max(0.0, min(1.0, $threshold)); \n$uploadsDir = dirname(__DIR__) .",
            "tokens": 74,
            "page": 2,
            "bbox": [
                90.02400207519531,
                73.71195983886719,
                504.19000244140625,
                755.0280151367188
            ],
            "confidence": 0.5
        },
        {
            "id": "seg-39",
            "text": "'\/uploads';Utils::ensureDir($uploadsDir); \n\/\/ make safe and unique filename$safeName = preg_replace('\/[^a-zA-Z0-\n9._-]\/', '_', basename($origName));$storedPath = $uploadsDir . '\/' . uniqid('upload_', true) . '_' . $safeName; \nif (!move_uploaded_file($upload['tmp_name'], $storedPath)) { \n    Utils::error('Failed to store uploaded file', 500); \n} \n\/\/ Python path from env with fallback$pythonPathEnv = \nUtils::env('PYTHON_PATH', '');if ($pythonPathEnv && \nfile_exists($pythonPathEnv)) { \n    $pythonPath = $pythonPathEnv; \n} else {",
            "tokens": 54,
            "page": 2,
            "bbox": [
                90.02400207519531,
                73.71195983886719,
                504.19000244140625,
                755.0280151367188
            ],
            "confidence": 0.5
        },
        {
            "id": "seg-40",
            "text": "\/\/ fallback (works on Linux with python3) - on Windows set \nPYTHON_PATH in .env \n    $pythonPath = Utils::isWindows() ? null : 'python3'; \n    if ($pythonPath === null) { \n        Utils::error('Python path not configured for Windows. Set \nPYTHON_PATH in .env', 500); \n    } \n} \n\/\/ call python extractor (defensive)$python = new \nPythonBridge($pythonPath);try { \n    $extracted = $python->extract($storedPath, $segmentTokens); \n} catch (Exception $e) { \n    \/\/ clean up uploaded file if needed \n    \/\/unlink($storedPath); \n    Utils::error('Python extractor failed: ' .",
            "tokens": 70,
            "page": 3,
            "bbox": [
                90.02400207519531,
                73.71195983886719,
                517.3779907226562,
                755.0280151367188
            ],
            "confidence": 0.5
        },
        {
            "id": "seg-41",
            "text": "$e->getMessage(), 500); \n} \nif (!is_array($extracted) || !isset($extracted['segments'])) { \n    Utils::error('Extractor returned invalid data', 500, ['raw' => \n$extracted]); \n} \n$segments = $extracted['segments'] ? ? [];$totalTokens = \n$extracted['total_tokens'] ? ? array_reduce($segments, function($c, \n$s){ return $c + (int)($s['tokens'] ? ?",
            "tokens": 36,
            "page": 3,
            "bbox": [
                90.02400207519531,
                73.71195983886719,
                517.3779907226562,
                755.0280151367188
            ],
            "confidence": 0.5
        },
        {
            "id": "seg-42",
            "text": "0); }, 0); \nif (count($segments) === 0) { \n    Utils::error('No text extracted from document', 400); \n} \n\/\/ Score segments via DeepSeek (wrap errors)$detector = new \nDeepSeekClient();try { \n    \/\/ detector->scoreSegments expected to add 'confidence' key to \neach segment \n    $scoredSegments = $detector->scoreSegments($segments); \n} catch (Exception $e) { \n    Utils::error('Detection service failed: ' . $e->getMessage(), \n502); \n} \n\/\/ Normalize and validate confidences; ensure tokens field \nexists$scoredSegments = array_map(function($seg) { \n    $seg['tokens'] = isset($seg['tokens']) ? (int) $seg['tokens'] : \nmax(1, str_word_count($seg['text'] ? ? '')); \n    $conf = isset($seg['confidence']) ?",
            "tokens": 80,
            "page": 3,
            "bbox": [
                90.02400207519531,
                73.71195983886719,
                517.3779907226562,
                755.0280151367188
            ],
            "confidence": 0.5
        },
        {
            "id": "seg-43",
            "text": "floatval($seg['confidence']) : \n0.0; \n    \/\/ clamp \n    $seg['confidence'] = max(0.0, min(1.0, $conf)); \n    \/\/ round for nicer JSON",
            "tokens": 15,
            "page": 3,
            "bbox": [
                90.02400207519531,
                73.71195983886719,
                517.3779907226562,
                755.0280151367188
            ],
            "confidence": 0.5
        },
        {
            "id": "seg-44",
            "text": "$seg['confidence'] = round($seg['confidence'], 4); \n    return $seg; \n}, $scoredSegments); \n\/\/ Compute weighted AI percent by tokens$totalTokensForWeight = \narray_reduce($scoredSegments, function($carry, $s) { return $carry + \n($s['tokens'] ? ? 0); }, 0);if ($totalTokensForWeight <= 0) \n$totalTokensForWeight = 1; \n$weightedSum = array_reduce($scoredSegments, function($carry, $s) { \n    return $carry + (($s['tokens'] ? ? 0) * ($s['confidence'] ? ?",
            "tokens": 52,
            "page": 4,
            "bbox": [
                90.02400207519531,
                73.71195983886719,
                517.1500244140625,
                724.6600341796875
            ],
            "confidence": 0.5
        },
        {
            "id": "seg-45",
            "text": "0.0)); \n}, 0.0); \n$aiPercent = round(100.0 * ($weightedSum \/ $totalTokensForWeight), 2); \n\/\/ create tokens and job ids$jobId = \nUtils::makeToken('job');$downloadToken = Utils::makeToken('dl'); \n\/\/ persist download mapping (simple JSON map file) so \/download can \nlookup$downloadMapFile = $uploadsDir . '\/download_map.json';$downloadTargetPath = null; \/\/ actual annotated \nfile path will be created later by annotator$map = [];if \n(file_exists($downloadMapFile)) { \n    $raw = @file_get_contents($downloadMapFile); \n    $map = $raw ?",
            "tokens": 61,
            "page": 4,
            "bbox": [
                90.02400207519531,
                73.71195983886719,
                517.1500244140625,
                724.6600341796875
            ],
            "confidence": 0.5
        },
        {
            "id": "seg-46",
            "text": "json_decode($raw, true) : []; \n}$map[$downloadToken] = [ \n    'original' => $storedPath, \n    'annotated' => null, \/\/ to be filled once annotator runs \n    'created_at' => time() \n]; \n@file_put_contents($downloadMapFile, json_encode($map, \nJSON_PRETTY_PRINT)); \n\/\/ mark is_ai by threshold$segmentsOut = array_map(function ($seg) \nuse ($threshold) { \n    $seg['is_ai'] = (($seg['confidence'] ? ? 0.0) >= $threshold); \n    return $seg; \n}, $scoredSegments); \n\/\/ response$response = [ \n    'job_id' => $jobId, \n    'ai_percent' => $aiPercent, \n    'total_tokens' => $totalTokensForWeight, \n    'num_segments' => count($segmentsOut), \n    'threshold' => $threshold, \n    'segments' => $segmentsOut, \n    'download_token' => $downloadToken, \n]; \nUtils::jsonResponse($response);",
            "tokens": 77,
            "page": 4,
            "bbox": [
                90.02400207519531,
                73.71195983886719,
                517.1500244140625,
                724.6600341796875
            ],
            "confidence": 0.5
        },
        {
            "id": "seg-47",
            "text": "A few final notes for your repo",
            "tokens": 7,
            "page": 4,
            "bbox": [
                90.02400207519531,
                754.27099609375,
                307.79998779296875,
                767.7109985351562
            ],
            "confidence": 0.3
        },
        {
            "id": "seg-48",
            "text": "\uf0b7",
            "tokens": 1,
            "page": 5,
            "bbox": [
                144.0500030517578,
                71.96957397460938,
                164.34808349609375,
                84.6199722290039
            ],
            "confidence": 0.1
        },
        {
            "id": "seg-49",
            "text": "Add PYTHON_PATH to .env on Windows (e.g. C:\\xampp\\php\\php.exe for php? no\u2014point to C:\\path\\to\\python.exe). On Linux use python3 by default.",
            "tokens": 19,
            "page": 5,
            "bbox": [
                126.05000305175781,
                99.24800109863281,
                513.39404296875,
                127.20198822021484
            ],
            "confidence": 0.4
        },
        {
            "id": "seg-50",
            "text": "\uf0b7 \n \n\uf0b7",
            "tokens": 2,
            "page": 5,
            "bbox": [
                144.0500030517578,
                141.11959838867188,
                164.34808349609375,
                166.48997497558594
            ],
            "confidence": 0.1
        },
        {
            "id": "seg-51",
            "text": "Implement \/download to read uploads\/download_map.json, check \nannotated field and serve annotated file or return 404 if not generated; \noptionally kick annotator to produce annotated file on-demand.",
            "tokens": 26,
            "page": 5,
            "bbox": [
                126.05000305175781,
                181.3579864501953,
                472.24603271484375,
                222.74195861816406
            ],
            "confidence": 0.4
        },
        {
            "id": "seg-52",
            "text": "\uf0b7 \n \n\uf0b7",
            "tokens": 2,
            "page": 5,
            "bbox": [
                144.0500030517578,
                236.89956665039062,
                164.34808349609375,
                262.2699890136719
            ],
            "confidence": 0.1
        },
        {
            "id": "seg-53",
            "text": "Consider adding a small background job \/ queue if you expect big PDFs \u2014 \nsynchronous HTTP may time out.",
            "tokens": 19,
            "page": 5,
            "bbox": [
                126.05000305175781,
                276.4179992675781,
                489.9100036621094,
                303.8919982910156
            ],
            "confidence": 0.4
        },
        {
            "id": "seg-54",
            "text": "\uf0b7 \n \n\uf0b7",
            "tokens": 2,
            "page": 5,
            "bbox": [
                144.0500030517578,
                318.0495910644531,
                164.34808349609375,
                343.41998291015625
            ],
            "confidence": 0.1
        },
        {
            "id": "seg-55",
            "text": "Log errors (Utils::logger or error_log) \u2014 helps debugging when extractor or \ndetector fail.",
            "tokens": 13,
            "page": 5,
            "bbox": [
                126.05000305175781,
                357.5679931640625,
                496.18804931640625,
                385.031982421875
            ],
            "confidence": 0.4
        },
        {
            "id": "seg-56",
            "text": "\uf0b7 \n \n\uf0b7",
            "tokens": 2,
            "page": 5,
            "bbox": [
                144.0500030517578,
                398.9495849609375,
                164.34808349609375,
                424.5599670410156
            ],
            "confidence": 0.1
        },
        {
            "id": "seg-57",
            "text": "Add unit tests \/ sample files in examples\/ for reproducible testing.",
            "tokens": 11,
            "page": 5,
            "bbox": [
                126.05000305175781,
                439.4280090332031,
                450.5299987792969,
                452.7120056152344
            ],
            "confidence": 0.4
        },
        {
            "id": "seg-58",
            "text": "\uf0b7",
            "tokens": 1,
            "page": 5,
            "bbox": [
                144.0500030517578,
                466.6495666503906,
                164.34808349609375,
                479.2999572753906
            ],
            "confidence": 0.1
        },
        {
            "id": "seg-59",
            "text": "If you want I can:",
            "tokens": 5,
            "page": 5,
            "bbox": [
                90.02400207519531,
                520.0879516601562,
                178.27000427246094,
                533.3719482421875
            ],
            "confidence": 0.3
        },
        {
            "id": "seg-60",
            "text": "\uf0b7",
            "tokens": 1,
            "page": 5,
            "bbox": [
                144.0500030517578,
                547.5595703125,
                164.34808349609375,
                560.2099609375
            ],
            "confidence": 0.1
        },
        {
            "id": "seg-61",
            "text": "generate a matching improved PythonBridge.php or DeepSeekClient.php \nto match this flow,",
            "tokens": 11,
            "page": 5,
            "bbox": [
                126.05000305175781,
                574.8379516601562,
                497.8299865722656,
                602.281982421875
            ],
            "confidence": 0.4
        },
        {
            "id": "seg-62",
            "text": "\uf0b7 \n \n\uf0b7",
            "tokens": 2,
            "page": 5,
            "bbox": [
                144.0500030517578,
                616.1995849609375,
                164.34808349609375,
                641.5899658203125
            ],
            "confidence": 0.1
        },
        {
            "id": "seg-63",
            "text": "or create a simple \/download.php that looks up the download_map.json and \nstreams annotated files.",
            "tokens": 14,
            "page": 5,
            "bbox": [
                126.05000305175781,
                656.4579467773438,
                503.1100158691406,
                683.6619262695312
            ],
            "confidence": 0.4
        },
        {
            "id": "seg-64",
            "text": "\uf0b7",
            "tokens": 1,
            "page": 5,
            "bbox": [
                144.0500030517578,
                697.819580078125,
                164.34808349609375,
                710.469970703125
            ],
            "confidence": 0.1
        },
        {
            "id": "seg-65",
            "text": "Which one do you want next?",
            "tokens": 6,
            "page": 5,
            "bbox": [
                90.02400207519531,
                724.887939453125,
                236.6199951171875,
                738.1719360351562
            ],
            "confidence": 0.3
        }
    ],
    "ai_percent": 28.92,
    "threshold": 0.5,
    "created_at": 1764270618
}